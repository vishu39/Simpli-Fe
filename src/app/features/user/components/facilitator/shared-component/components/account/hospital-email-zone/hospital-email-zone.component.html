<section class="content">
  <div class="content-block">
    <div class="block-header">
      <!-- breadcrumb -->
      <app-breadcrumb
        [title]="'Hospital Communication'"
        [active_item]="'All Hospital Communication'"
      ></app-breadcrumb>
    </div>
    <div class="row">
      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
        <mat-card>
          <div class="row">
            <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12">
              <mat-form-field class="example-full-width" appearance="outline">
                <mat-label>Select Hospital</mat-label>
                <mat-select
                  msInfiniteScroll
                  (infiniteScroll)="onInfiniteScrollHospital()"
                  (selectionChange)="onChangeHospital($event)"
                  [(ngModel)]="selectHospital._id"
                >
                  <input
                    class="searchInput"
                    placeholder="search..."
                    (keydown.space)="$event.stopPropagation()"
                    matInput
                    (keyup)="searchHospital($event.target.value)"
                  />
                  <div
                    class="other_option"
                    *ngIf="!hospitalData?.length && !isLoadingHospital"
                  >
                    No results
                  </div>
                  <mat-option
                    *ngFor="let item of hospitalData"
                    [value]="item._id"
                  >
                    {{ item.name }}
                  </mat-option>
                  <mat-spinner
                    *ngIf="isLoadingHospital"
                    class="mx-auto mb-2 mt-2"
                    [diameter]="30"
                  >
                  </mat-spinner>
                </mat-select>
              </mat-form-field>
            </div>
          </div>
        </mat-card>
      </div>
    </div>
    <div class="row mt-4">
      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
        <mat-tab-group
          (selectedTabChange)="changeTab($event)"
          animationDuration="0ms"
        >
          <mat-tab label="Zone">
            <div *ngIf="selectedTab === 'Zone'">
              <app-zone-default
                [hospitalId]="selectedHospitalId"
              ></app-zone-default>
              <app-zone [hospitalId]="selectedHospitalId"></app-zone>
            </div>
          </mat-tab>
          <mat-tab label="Employee">
            <div *ngIf="selectedTab === 'Employee'">
              <app-employee-default
                [hospitalId]="selectedHospitalId"
              ></app-employee-default>
              <app-employee
                [hospitalId]="selectedHospitalId"
              ></app-employee></div
          ></mat-tab>
          <mat-tab label="Doctor">
            <div *ngIf="selectedTab === 'Doctor'">
              <app-doctor-default
                [hospitalId]="selectedHospitalId"
              ></app-doctor-default>
              <app-doctor [hospitalId]="selectedHospitalId"></app-doctor>
            </div>
          </mat-tab>
          <mat-tab label="Default Email">
            <div *ngIf="selectedTab === 'Default Email'">
              <app-default-email
                [hospitalId]="selectedHospitalId"
              ></app-default-email>
            </div>
          </mat-tab>
          <mat-tab label="Default Message">
            <div *ngIf="selectedTab === 'Default Message'">
              <shared-default-email-zone-message-fac
                [hospitalId]="selectedHospitalId"
              ></shared-default-email-zone-message-fac>
            </div>
          </mat-tab>
        </mat-tab-group>
      </div>
    </div>
  </div>
</section>
