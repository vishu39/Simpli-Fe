<div class="row mt-4">
  <div class="col-xs-12 col-sm-12 col-md-3 col-lg-3">
    <div class="card">
      <div class="body">
        <span class="badge badge-primary">User</span>

        <mat-checkbox
          class="default_checkbox"
          *ngIf="hospitalEmailZoneSettingData"
          [disabled]="hospitalEmailZoneSettingData.defaultSetting"
          [(ngModel)]="hospitalEmailZoneSettingData.defaultSetting"
          (change)="changeDefaultSettingFacilitator()"
        ></mat-checkbox>
        <mat-checkbox
          class="default_checkbox"
          *ngIf="!hospitalEmailZoneSettingData"
          (change)="changeDefaultSettingFacilitator()"
        ></mat-checkbox>

        <div id="mail-nav" class="mt-4">
          <button
            type="button"
            [disabled]="!hospitalId"
            (click)="addEmailZone('Add Email Zone')"
            class="btn btn-success waves-effect m-b-15 w-100"
          >
            Add Email Zone
          </button>
          <mat-form-field class="example-full-width mt-2">
            <input
              class="mb-2"
              placeholder="search..."
              (keydown.space)="$event.stopPropagation()"
              matInput
              (keyup)="searchZone($event.target.value)"
            />
          </mat-form-field>
          <div
            class="list-results"
            *ngIf="zoneData.length"
            infiniteScroll
            [infiniteScrollDistance]="1"
            (scrolled)="onInfiniteScrollZone()"
            [scrollWindow]="false"
          >
            <ul id="mail-folders">
              <li
                *ngFor="let item of zoneData; let i = index"
                class="cursor_pointer"
                [ngClass]="{ active: item.active === true }"
              >
                <a (click)="onActive(item, i)">{{ item.name }} </a>
              </li>
            </ul>
          </div>
          <mat-spinner
            *ngIf="isLoadingZone"
            class="mx-auto mb-2 mt-2"
            [diameter]="30"
          >
          </mat-spinner>
          <div
            class="d-flex justify-content-center align-items-center"
            *ngIf="!zoneData.length && !isLoadingZone"
            class="text-secondary text-center"
          >
            -- No Data Found --
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="col-xs-12 col-sm-12 col-md-9 col-lg-9">
    <div class="card p-3 mt-2">
      <div *ngIf="selectedZoneData">
        <div class="card-title m-0">
          <h3 class="fs-20 m-0">
            Zone Details
            <button mat-icon-button class="tbl-action-btn">
              <app-feather-icons
                [icon]="'edit'"
                (click)="editEmailZone('Edit Email Zone', selectedZoneData)"
                [class]="'tbl-fav-edit'"
              >
              </app-feather-icons>
            </button>
            <button
              mat-icon-button
              (click)="deleteEmailZone(selectedZoneData?._id)"
              class="tbl-action-btn"
            >
              <app-feather-icons [icon]="'trash-2'" [class]="'tbl-fav-delete'">
              </app-feather-icons>
            </button>
          </h3>
        </div>
        <hr />

        <div class="card-body pt-0 px-0" *ngIf="selectedZoneData">
          <div class="d-flex justify-content-between">
            <p class="fs-20 m-0 text-primary">
              {{ selectedZoneData?.name }}
              <span> </span>
            </p>

            <p class="m-0 text-secondary text-end">
              {{ selectedZoneData?.createdAt | date : "medium" }}
            </p>
          </div>

          <div class="row mt-4">
            <div class="col-md-4">
              <p class="mt-3 h6">Country</p>
              <ul class="w-100 detail-list">
                <li
                  class="text-secondary"
                  *ngFor="let item of selectedZoneData.country"
                >
                  {{ item }}
                </li>
              </ul>
            </div>
            <div class="col-md-4">
              <p class="mt-3 h6">Treatment</p>
              <ul class="w-100 detail-list">
                <li
                  class="text-secondary"
                  *ngFor="let item of selectedZoneData.treatment"
                >
                  {{ item }}
                </li>
              </ul>
            </div>
            <div class="col-md-4">
              <p class="mt-3 h6">Query To</p>
              <ul class="w-100 detail-list">
                <ng-container *ngFor="let item of selectedZoneData?.queryTo">
                  <li class="text-secondary">
                    Name: {{ item.name }}<br />
                    Email Id: {{ item.emailId }}
                  </li>
                </ng-container>

                <li
                  class="text-secondary"
                  *ngIf="!selectedZoneData?.queryTo?.length"
                >
                  -- EMPTY --
                </li>
              </ul>
            </div>
            <div class="col-md-4">
              <p class="mt-3 h6">Query Cc</p>
              <ul class="w-100 detail-list">
                <ng-container *ngFor="let item of selectedZoneData?.queryCc">
                  <li class="text-secondary">
                    Name: {{ item.name }}<br />
                    Email Id: {{ item.emailId }}
                  </li>
                </ng-container>

                <li
                  class="text-secondary"
                  *ngIf="!selectedZoneData?.queryCc?.length"
                >
                  -- EMPTY --
                </li>
              </ul>
            </div>
            <div class="col-md-4">
              <p class="mt-3 h6">VIL To</p>
              <ul class="w-100 detail-list">
                <ng-container *ngFor="let item of selectedZoneData?.vilTo">
                  <li class="text-secondary">
                    Name: {{ item.name }}<br />
                    Email Id: {{ item.emailId }}
                  </li>
                </ng-container>

                <li
                  class="text-secondary"
                  *ngIf="!selectedZoneData?.vilTo?.length"
                >
                  -- EMPTY --
                </li>
              </ul>
            </div>
            <div class="col-md-4">
              <p class="mt-3 h6">VIL Cc</p>
              <ul class="w-100 detail-list">
                <ng-container *ngFor="let item of selectedZoneData?.vilCc">
                  <li class="text-secondary">
                    Name: {{ item.name }}<br />
                    Email Id: {{ item.emailId }}
                  </li>
                </ng-container>

                <li
                  class="text-secondary"
                  *ngIf="!selectedZoneData?.vilCc?.length"
                >
                  -- EMPTY --
                </li>
              </ul>
            </div>
            <div class="col-md-4">
              <p class="mt-3 h6">Confirmation To</p>
              <ul class="w-100 detail-list">
                <ng-container
                  *ngFor="let item of selectedZoneData?.confirmationTo"
                >
                  <li class="text-secondary">
                    Name: {{ item.name }}<br />
                    Email Id: {{ item.emailId }}
                  </li>
                </ng-container>

                <li
                  class="text-secondary"
                  *ngIf="!selectedZoneData?.confirmationTo?.length"
                >
                  -- EMPTY --
                </li>
              </ul>
            </div>
            <div class="col-md-4">
              <p class="mt-3 h6">Confirmation Cc</p>
              <ul class="w-100 detail-list">
                <ng-container
                  *ngFor="let item of selectedZoneData?.confirmationCc"
                >
                  <li class="text-secondary">
                    Name: {{ item.name }}<br />
                    Email Id: {{ item.emailId }}
                  </li>
                </ng-container>

                <li
                  class="text-secondary"
                  *ngIf="!selectedZoneData?.confirmationCc?.length"
                >
                  -- EMPTY --
                </li>
              </ul>
            </div>
            <div class="col-md-4">
              <p class="mt-3 h6">Doctor To</p>
              <ul class="w-100 detail-list">
                <ng-container *ngFor="let item of selectedZoneData?.doctorTo">
                  <li class="text-secondary">
                    Name: {{ item.name }}<br />
                    Email Id: {{ item.emailId }}
                  </li>
                </ng-container>

                <li
                  class="text-secondary"
                  *ngIf="!selectedZoneData?.doctorTo?.length"
                >
                  -- EMPTY --
                </li>
              </ul>
            </div>
            <div class="col-md-4">
              <p class="mt-3 h6">Doctor Cc</p>
              <ul class="w-100 detail-list">
                <ng-container *ngFor="let item of selectedZoneData?.doctorCc">
                  <li class="text-secondary">
                    Name: {{ item.name }}<br />
                    Email Id: {{ item.emailId }}
                  </li>
                </ng-container>

                <li
                  class="text-secondary"
                  *ngIf="!selectedZoneData?.doctorCc?.length"
                >
                  -- EMPTY --
                </li>
              </ul>
            </div>

            <div class="col-md-4">
              <p class="mt-3 h6">Query Message</p>
              <ul class="w-100 detail-list">
                <ng-container
                  *ngFor="let item of selectedZoneData?.queryMessage"
                >
                  <li class="text-secondary">
                    Name: {{ item.name }}<br />
                    Contact: {{ item.contact }}
                  </li>
                </ng-container>

                <li
                  class="text-secondary"
                  *ngIf="!selectedZoneData?.queryMessage?.length"
                >
                  -- EMPTY --
                </li>
              </ul>
            </div>

            <div class="col-md-4">
              <p class="mt-3 h6">VIL Message</p>
              <ul class="w-100 detail-list">
                <ng-container *ngFor="let item of selectedZoneData?.vilMessage">
                  <li class="text-secondary">
                    Name: {{ item.name }}<br />
                    Contact: {{ item.contact }}
                  </li>
                </ng-container>

                <li
                  class="text-secondary"
                  *ngIf="!selectedZoneData?.vilMessage?.length"
                >
                  -- EMPTY --
                </li>
              </ul>
            </div>

            <div class="col-md-4">
              <p class="mt-3 h6">Confirmation Message</p>
              <ul class="w-100 detail-list">
                <ng-container
                  *ngFor="let item of selectedZoneData?.confirmationMessage"
                >
                  <li class="text-secondary">
                    Name: {{ item.name }}<br />
                    Contact: {{ item.contact }}
                  </li>
                </ng-container>

                <li
                  class="text-secondary"
                  *ngIf="!selectedZoneData?.confirmationMessage?.length"
                >
                  -- EMPTY --
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
      <div
        *ngIf="!selectedZoneData && !isLoadingZone"
        class="text-secondary text-center"
      >
        -- No Data Found --
      </div>
    </div>
  </div>
</div>
